<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/styles.css" />
    <title>Chicago Traffic</title>
  </head>
  <body>
    <div style="width: 100%; height: 18px; background-color: black;"></div>
    <div class="skyline"></div>
    <h1 class="skyline__title">Chicago Traffic</h1>
    <p class="intro-txt">
      The traffic of the City of Chicago is well documented in the form of
      massive—freely available—data sets. In the following, we take a deep dive
      into the data revolving around traffic accidents and present our findings.
    </p>
    <a
      href="https://chicago-traffic.netlify.app/explainer.html"
      style="width: 600px; margin-top: -6px; margin-bottom: 24px;"
      target="_blank"
      >Explainer Notebook</a
    >
    <img class="intro-map" src="assets/intro_map.png" alt="Chicago Map" />
    <p>
      By
      <em>Marco Illemann, Rasmus Suonperä Liebst & Robert Marker Karlsson</em>
      <br />
      <span style="font-size: 12px;">May, 15 2020</span>
    </p>
    <p>
      In this project, we investigate the traffic of the City of Chicago as a
      case study of a busy urban environment. With its population of
      approximately 2.7 million it is the third-most-populous city in the United
      States. Daily life in Chicago thus entails millions of people
      participating in the city's traffic. We will have a main focus on temporal
      patterns of traffic in the project.
    </p>
    <p>
      Two data sets are used for this project:
    </p>
    <ul>
      <li>
        <a
          href="https://data.cityofchicago.org/Transportation/Traffic-Crashes-Crashes/85ca-t3if"
        >
          Traffic Crashes - Crashes
        </a>
      </li>
      <li>
        <a
          href="https://data.cityofchicago.org/dataset/Chicago-Traffic-Tracker-Historical-Congestion-Esti/kf7e-cur8"
        >
          Chicago Traffic Tracker - Historical Congestion Estimates by Region -
          2018-Current
        </a>
      </li>
    </ul>
    <br />
    <br />
    <p>
      In the following, these are referred to as the <em>Crashes</em> and
      <em>Congestion</em>
      data sets, respectively. Both sets are freely available via [Chicago Data
      Portal](https://data.cityofchicago.org).
    </p>
    <p>
      The Crashes data set contains location as well as a multitude of meta data
      on each police registered traffic crash within the City of Chicago limits
      and under the jurisdiction of Chicago Police Department.
    </p>
    <p>
      The Congestion data set contains information about the congestion of the
      streets. Congestion is estimated by probing GPS traces from the public
      transportation buses, yielding regional average speeds of buses with 10
      minutes intervals. The congestion data set features a division of Chicago
      into 29 regions that covers the city (except O’Hare airport area). With
      comparable traffic patterns, a region is comprised of two or three
      community areas.
    </p>
    <p>
      The combination of theses two data sets allows for relating each crash to
      one of the 29 defined regions of the City of Chicago, as well as the
      estimated level of congestion at the time of the crash.
    </p>
    <p>
      Through careful analysis of the data, the goal is to elicit interesting
      findings about the traffic patterns of the City of Chicago and convey them
      in an intuitive manner to educate, non-scientific readers.
    </p>

    <section>
      <h2>Regions of Chicago</h2>
      <p>
        Chicago is divided into 29 regions in order to estimate traffic
        congestion around the city. To visualize this partition, all crashes has
        been plotted with a unique color for each region. To ease the relation
        between future findings and location of the regions, the unique IDs are
        added to the figure.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="./folium/Regions_with_id.png"
        ></iframe>
        <div class="iframe-loading">
          <h2>Loading...</h2>
        </div>
        <a
          class="fullscreen-btn"
          href="./folium/Regions_with_id.png"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Aenean nisi nunc, feugiat nec enim ac, rhoncus malesuada dolor. Cras
          pulvinar ultricies ex quis tincidunt.
        </p>
      </div>
    </section>

    <section>
      <h2>Primary Contributory Cause</h2>
      <p>
        One interesting attribute of the Crashes data set is the 'PRIMARY
        CONTRIBUTORY CAUSE'. The figure above shows the distribution of causes
        over all crashes of 2019. It is seen that the two most common causes by
        far are 'FAILING TO YIELD RIGHT-OF-WAY' and 'FOLLOWING TOO CLOSELY'. The
        large range in number of crashes in the figure makes it difficult to
        read the values of the left most part. The tooltip functionality of
        Bokeh is of no use because the bars are so small. This can be remedied
        by using a log scale for the y-axis:
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="bokeh/primary_cause_bar_chart.html"
        ></iframe>
        <div class="iframe-loading">
          <h2>Loading...</h2>
        </div>
        <a
          class="fullscreen-btn"
          href="bokeh/primary_cause_bar_chart.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Aenean nisi nunc, feugiat nec enim ac, rhoncus malesuada dolor. Cras
          pulvinar ultricies ex quis tincidunt.
        </p>
      </div>

      <p>
        The figure above shows the same data as the previous figure, but with a
        log-10 scale for the y-axis resulting in in a more readable chart. Now,
        all the bars are tall enough to afford the tooltip functionality of
        Bokeh—hovering the cursor over the bar for
        <em>Motorcycle advancing legally on red light</em> reveals a total
        number of crashes of 6.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="bokeh/primary_cause_bar_chart_log.html"
        ></iframe>
        <div class="iframe-loading">
          <h2>Loading...</h2>
        </div>
        <a
          class="fullscreen-btn"
          href="bokeh/primary_cause_bar_chart_log.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Aenean nisi nunc, feugiat nec enim ac, rhoncus malesuada dolor. Cras
          pulvinar ultricies ex quis tincidunt.
        </p>
      </div>
    </section>

    <section>
      <h2>Regional Stats</h2>
      <p>
        The figure below shows the distribution of crashes over all 29 regions
        for 2019. It is seen that the region South West Side (with ID 18) is
        suffering the most from crashes, whereas
        <em>Riverdale-Hegewisch</em> (with ID 28) is the region with the least
        crashes.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="bokeh/region_bar_chart.html"
        ></iframe>
        <div class="iframe-loading">
          <h2>Loading...</h2>
        </div>
        <a
          class="fullscreen-btn"
          href="bokeh/region_bar_chart.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Aenean nisi nunc, feugiat nec enim ac, rhoncus malesuada dolor. Cras
          pulvinar ultricies ex quis tincidunt.
        </p>
      </div>

      <p>
        The figure below shows the average speed for public transportation buses
        for all 29 regions for 2019. It is seen that buses servicing the region
        Chicago Loop (with ID 13) has the lowest average speed, whereas buses in
        the region Washington Hts-Roseland-Pullman (with ID 26) has the highest
        average speed. Chicago Loop is Chicago's official downtown area, which
        is "celebrated for its dynamic architecture and big city buzz" according
        to the tourist web site https://www.choosechicago.com/. It features a
        high population density of 8200/km2 (according to this report
        https://www.cmap.illinois.gov/documents/10180/126764/The+Loop.pdf from
        Chicago Metropolitan Agency for Planning (CMAP). On the other hand,
        areas further away from the Loop, e.g. Washington Hts-Roseland-Pullman
        (with ID 26) with the highest average speed, has a much lower population
        density with 3373/km2 (according to this report
        https://www.cmap.illinois.gov/documents/10180/126764/Roseland.pdf also
        from CMAP). The average speed of the buses is considered a measure for
        the level of traffic congestion across the regions, as the level of
        congestion is correlated to the amount of traffic on the streets—the
        lower the average speed, the more vehicles on the streets. In summary,
        we see higher average speeds outside downtown Chicago as these areas has
        less traffic congestion, not least due to much lower population density.
        Later we will consider the severity (i.e. the mortality and injuries
        suffered) in the different regions.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="bokeh/region_avg_speed_bar_chart.html"
        ></iframe>
        <div class="iframe-loading">
          <h2>Loading...</h2>
        </div>
        <a
          class="fullscreen-btn"
          href="bokeh/region_avg_speed_bar_chart.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Aenean nisi nunc, feugiat nec enim ac, rhoncus malesuada dolor. Cras
          pulvinar ultricies ex quis tincidunt.
        </p>
      </div>
    </section>

    <section>
      <h2>Monthly and Weekly Temporal Patterns</h2>
      <p>
        To start off our temporal analysis, we look at the distribution of
        crashes over the months of the year of 2019 as seen in the bar chart
        above. Interestingly, we see that the summer months May till July has
        the highest number of crashes. May has the most crashes with 10,584. The
        lowest was seen in February with 8,542 crashes. Our hypothesis prior to
        plotting was that the winter months had more crashes, but this plot
        proved us wrong. One explanation could be that the summer months see
        more traffic as it is tourist season.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="bokeh/months_barchart.html"
        ></iframe>
        <div class="iframe-loading">
          <h2>Loading...</h2>
        </div>
        <a
          class="fullscreen-btn"
          href="bokeh/months_barchart.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Aenean nisi nunc, feugiat nec enim ac, rhoncus malesuada dolor. Cras
          pulvinar ultricies ex quis tincidunt.
        </p>
      </div>

      <p>
        Next up we look at the distribution of crashes throughout the days of
        the week as seen in the bar chart above. We can see that the weekend has
        the most crashes peaking Saturday with 18,480 crashes. Monday has the
        lowest with 14,027 crashes. This could be due to more traffic occurring
        during the weekend.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="bokeh/days_barchart.html"
        ></iframe>
        <div class="iframe-loading">
          <h2>Loading...</h2>
        </div>
        <a
          class="fullscreen-btn"
          href="bokeh/days_barchart.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Aenean nisi nunc, feugiat nec enim ac, rhoncus malesuada dolor. Cras
          pulvinar ultricies ex quis tincidunt.
        </p>
      </div>
    </section>

    <section>
      <h2>Daily Temporal Patterns</h2>
      <p>
        In the below plot, we look at the 24 hours of the day. Here we can
        clearly see that the amount of crashes follows the intuition of when
        there is peak traffic in a city; around commute time to and from work.
        We clearly see a spike around 8–9 (to work) and then again at 15–19
        (home from work). From there on, we see a decreasing decline of crashes
        from 18-5.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="bokeh/hours_barchart.html"
        ></iframe>
        <div class="iframe-loading">
          <h2>Loading...</h2>
        </div>
        <a
          class="fullscreen-btn"
          href="bokeh/hours_barchart.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Aenean nisi nunc, feugiat nec enim ac, rhoncus malesuada dolor. Cras
          pulvinar ultricies ex quis tincidunt.
        </p>
      </div>

      <p>
        To further understand the crash distribution of the day, here we see the
        same histogram as previously, but now with a trend line showing the
        average speed in mph. It is clear that the two move inversely; when the
        crashes are low, average speed is high and vice versa. This verifies the
        intuition that less average speed means cluttering which also means more
        traffic which finally means more crashes.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="bokeh/hours_congestion_barchart.html"
        ></iframe>
        <div class="iframe-loading">
          <h2>Loading...</h2>
        </div>
        <a
          class="fullscreen-btn"
          href="bokeh/hours_congestion_barchart.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Aenean nisi nunc, feugiat nec enim ac, rhoncus malesuada dolor. Cras
          pulvinar ultricies ex quis tincidunt.
        </p>
      </div>

      <p>
        Above we again look at the hours of the day, but now only for the
        weekend. We see that the 8–9 spike is gone, as less people are commuting
        to work. There is still lowest crash activity in the night hours.
        However, in the weekends the decline is now much slower, and there is
        now a fairly steady amount of crashes from 20 to midnight.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="bokeh/hours_barchart_weekend.html"
        ></iframe>
        <div class="iframe-loading">
          <h2>Loading...</h2>
        </div>
        <a
          class="fullscreen-btn"
          href="bokeh/hours_barchart_weekend.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Aenean nisi nunc, feugiat nec enim ac, rhoncus malesuada dolor. Cras
          pulvinar ultricies ex quis tincidunt.
        </p>
      </div>
    </section>

    <section>
      <h2>Crashes vs Speed</h2>
      <p>
        From the previous plot, we got the hypothesis that the regions that
        generally had lower average speed would have more crashes. From the
        scatter plot above, however, we see there is no evident tendency in
        region average speed and amount of crashes.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="bokeh/crash_count_vs_avg_speed.html"
        ></iframe>
        <div class="iframe-loading">
          <h2>Loading...</h2>
        </div>
        <a
          class="fullscreen-btn"
          href="bokeh/crash_count_vs_avg_speed.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Aenean nisi nunc, feugiat nec enim ac, rhoncus malesuada dolor. Cras
          pulvinar ultricies ex quis tincidunt.
        </p>
      </div>
    </section>

    <!--    Old........................-->

    <!-- Crashes Heat Map -->
    <section>
      <h2>Heat map over all crashes in Chicago</h2>
      <p>
        Ut metus dui, finibus nec tortor eu, sollicitudin vehicula arcu. Ut
        porta nunc elementum eros lacinia fermentum. Mauris mattis elit feugiat,
        commodo metus hendrerit, fringilla lacus. Aenean nisi nunc, feugiat nec
        enim ac, rhoncus malesuada dolor. Cras pulvinar ultricies ex quis
        tincidunt. Etiam dictum laoreet massa quis blandit. Morbi non congue
        leo. Etiam quis eleifend lacus.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="./folium/heat_crashes.html"
        ></iframe>
        <div class="iframe-loading">
          <h2>Loading...</h2>
        </div>
        <a
          class="fullscreen-btn"
          href="./folium/heat_crashes.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Aenean nisi nunc, feugiat nec enim ac, rhoncus malesuada dolor. Cras
          pulvinar ultricies ex quis tincidunt.
        </p>
      </div>
    </section>

    <!-- Crashes Heat Map over Time -->
    <section>
      <h2>Heat map over all crashes in Chicago</h2>
      <p>
        Ut metus dui, finibus nec tortor eu, sollicitudin vehicula arcu. Ut
        porta nunc elementum eros lacinia fermentum. Mauris mattis elit feugiat,
        commodo metus hendrerit, fringilla lacus. Aenean nisi nunc, feugiat nec
        enim ac, rhoncus malesuada dolor. Cras pulvinar ultricies ex quis
        tincidunt. Etiam dictum laoreet massa quis blandit. Morbi non congue
        leo. Etiam quis eleifend lacus.
      </p>
      <!--    <link rel="stylesheet" href="../css/leaflet.timedimension.control.min.css"/>-->
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="./folium/heat_crashes_over_time.html"
        ></iframe>
        <div class="iframe-loading">
          <h2>Loading...</h2>
        </div>
        <a
          class="fullscreen-btn"
          href="./folium/heat_crashes_over_time.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Ut porta nunc elementum eros lacinia fermentum. Mauris mattis elit
          feugiat, commodo metus hendrerit, fringilla lacus.
        </p>
      </div>
    </section>

    <!-- Number of Crashes vs Avg. Speed -->
    <section>
      <h2>The Effect of Traffic Congestion</h2>
      <p>
        Ut metus dui, finibus nec tortor eu, sollicitudin vehicula arcu. Ut
        porta nunc elementum eros lacinia fermentum. Mauris mattis elit feugiat,
        commodo metus hendrerit, fringilla lacus. Aenean nisi nunc, feugiat nec
        enim ac, rhoncus malesuada dolor. Cras pulvinar ultricies ex quis
        tincidunt. Etiam dictum laoreet massa quis blandit. Morbi non congue
        leo. Etiam quis eleifend lacus.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="plot"
          height="500"
          width="652"
          data-src="./bokeh/crash_count_vs_avg_speed.html"
        ></iframe>
        <a
          class="fullscreen-btn"
          href="./bokeh/crash_count_vs_avg_speed.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Number of Crashes vs Avg. Speed for All 29 Regions.
        </p>
      </div>
    </section>

    <!-- Primary Cause of Crashes Throughout the Day -->
    <section>
      <h2>Primary Cause of Crashes Throughout the Day</h2>
      <p>
        Ut metus dui, finibus nec tortor eu, sollicitudin vehicula arcu. Ut
        porta nunc elementum eros lacinia fermentum. Mauris mattis elit feugiat,
        commodo metus hendrerit, fringilla lacus. Aenean nisi nunc, feugiat nec
        enim ac, rhoncus malesuada dolor. Cras pulvinar ultricies ex quis
        tincidunt.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="plot plot--wide"
          height="750"
          data-src="./bokeh/primary_cause.html"
        ></iframe>
        <a
          class="fullscreen-btn"
          href="./bokeh/primary_cause.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">Primary Cause of Crashes Throughout the Day</p>
      </div>
    </section>

    <div
      class="skyline"
      style="
        background-position: left;
        transform: scale(-1);
        margin-top: 100px;
      "
    ></div>
    <div class="footer">
      <span style="padding-bottom: 12px;"
        >©2020 Karlsson, Illemann & Liebst</span
      >
    </div>

    <script>
      /* Enumerate all figures */
      document.body.querySelectorAll(".caption__title").forEach((el, i) => {
        el.textContent = `Figure ${i + 1}`;
      });
    </script>
    <script>
      const handleIntersect = (entries, observer) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const target = entry.target;
            target.nextElementSibling.style.opacity = 0;
            target.src = target.dataset.src;
            observer.unobserve(target);
          }
        });
      };

      let observer = new IntersectionObserver(handleIntersect);
      document.querySelectorAll("iframe").forEach((el) => {
        observer.observe(el);
      });
    </script>
    <script>
      document.body.querySelector(".skyline").classList.add("skyline--grow");
    </script>
  </body>
</html>
