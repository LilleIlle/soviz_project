<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/styles.css" />
    <title>Chicago Traffic</title>
  </head>
  <body>
    <div style="width: 100%; height: 18px; background-color: black;"></div>
    <div class="skyline">
      <h1 class="skyline__title">Chicago Traffic</h1>
    </div>
    <p style="margin-top: 30px;">
      The traffic of the City of Chicago is well documented in the form of
      massive—freely available—data sets. In the following, we take a deep dive
      into the data revolving around traffic accidents and present our findings.
    </p>

    <section>
      <h2>Regions of Chicago</h2>
      <p>
        Ut metus dui, finibus nec tortor eu, sollicitudin vehicula arcu. Ut
        porta nunc elementum eros lacinia fermentum. Mauris mattis elit feugiat,
        commodo metus hendrerit, fringilla lacus. Aenean nisi nunc, feugiat nec
        enim ac, rhoncus malesuada dolor. Cras pulvinar ultricies ex quis
        tincidunt. Etiam dictum laoreet massa quis blandit. Morbi non congue
        leo. Etiam quis eleifend lacus.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="./folium/Regions_with_id.png"
        ></iframe>
        <a
          class="fullscreen-btn"
          href="./folium/Regions_with_id.png"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Aenean nisi nunc, feugiat nec enim ac, rhoncus malesuada dolor. Cras
          pulvinar ultricies ex quis tincidunt.
        </p>
      </div>
    </section>

    <!-- Crashes Heat Map -->
    <section>
      <h2>Heat map over all crashes in Chicago</h2>
      <p>
        Ut metus dui, finibus nec tortor eu, sollicitudin vehicula arcu. Ut
        porta nunc elementum eros lacinia fermentum. Mauris mattis elit feugiat,
        commodo metus hendrerit, fringilla lacus. Aenean nisi nunc, feugiat nec
        enim ac, rhoncus malesuada dolor. Cras pulvinar ultricies ex quis
        tincidunt. Etiam dictum laoreet massa quis blandit. Morbi non congue
        leo. Etiam quis eleifend lacus.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="./folium/heat_crashes.html"
        ></iframe>
        <a
          class="fullscreen-btn"
          href="./folium/heat_crashes.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Aenean nisi nunc, feugiat nec enim ac, rhoncus malesuada dolor. Cras
          pulvinar ultricies ex quis tincidunt.
        </p>
      </div>
    </section>

    <!-- Crashes Heat Map over Time -->
    <section>
      <h2>Heat map over all crashes in Chicago</h2>
      <p>
        Ut metus dui, finibus nec tortor eu, sollicitudin vehicula arcu. Ut
        porta nunc elementum eros lacinia fermentum. Mauris mattis elit feugiat,
        commodo metus hendrerit, fringilla lacus. Aenean nisi nunc, feugiat nec
        enim ac, rhoncus malesuada dolor. Cras pulvinar ultricies ex quis
        tincidunt. Etiam dictum laoreet massa quis blandit. Morbi non congue
        leo. Etiam quis eleifend lacus.
      </p>
      <!--    <link rel="stylesheet" href="../css/leaflet.timedimension.control.min.css"/>-->
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="./folium/heat_crashes_over_time.html"
        ></iframe>
        <a
          class="fullscreen-btn"
          href="./folium/heat_crashes_over_time.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Ut porta nunc elementum eros lacinia fermentum. Mauris mattis elit
          feugiat, commodo metus hendrerit, fringilla lacus.
        </p>
      </div>
    </section>

    <!-- Number of Crashes vs Avg. Speed -->
    <section>
      <h2>The Effect of Traffic Congestion</h2>
      <p>
        Ut metus dui, finibus nec tortor eu, sollicitudin vehicula arcu. Ut
        porta nunc elementum eros lacinia fermentum. Mauris mattis elit feugiat,
        commodo metus hendrerit, fringilla lacus. Aenean nisi nunc, feugiat nec
        enim ac, rhoncus malesuada dolor. Cras pulvinar ultricies ex quis
        tincidunt. Etiam dictum laoreet massa quis blandit. Morbi non congue
        leo. Etiam quis eleifend lacus.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="plot"
          height="500"
          width="652"
          data-src="./bokeh/crash_count_vs_avg_speed.html"
        ></iframe>
        <a
          class="fullscreen-btn"
          href="./bokeh/crash_count_vs_avg_speed.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Number of Crashes vs Avg. Speed for All 29 Regions.
        </p>
      </div>
    </section>

    <!-- Primary Cause of Crashes Throughout the Day -->
    <section>
      <h2>Primary Cause of Crashes Throughout the Day</h2>
      <p>
        Ut metus dui, finibus nec tortor eu, sollicitudin vehicula arcu. Ut
        porta nunc elementum eros lacinia fermentum. Mauris mattis elit feugiat,
        commodo metus hendrerit, fringilla lacus. Aenean nisi nunc, feugiat nec
        enim ac, rhoncus malesuada dolor. Cras pulvinar ultricies ex quis
        tincidunt.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="plot plot--wide"
          height="1050"
          data-src="./bokeh/primary_cause.html"
        ></iframe>
        <a
          class="fullscreen-btn"
          href="./bokeh/primary_cause.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">Primary Cause of Crashes Throughout the Day</p>
      </div>
    </section>

    <div
      class="skyline"
      style="
        background-position: left;
        transform: scale(-1);
        margin-top: 100px;
      "
    ></div>
    <div class="footer">
      <span style="padding-bottom: 12px;"
        >©2020 Karlsson, Illemann & Liebst</span
      >
    </div>

    <script>
      /* Enumerate all figures */
      document.body.querySelectorAll(".caption__title").forEach((el, i) => {
        el.textContent = `Figure ${i + 1}`;
      });
    </script>
    <script>
      const handleIntersect = (entries, observer) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.src = entry.target.dataset.src;
            observer.unobserve(entry.target);
          }
        });
      };

      let observer = new IntersectionObserver(handleIntersect);
      document.querySelectorAll("iframe").forEach((el) => {
        observer.observe(el);
      });
    </script>
  </body>
</html>
