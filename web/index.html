<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/styles.css" />
    <title>Chicago Traffic</title>
  </head>
  <body>
    <div style="width: 100%; height: 18px; background-color: black;"></div>
    <div class="skyline"></div>
    <h1 class="skyline__title">Chicago Traffic</h1>
    <p class="intro-txt">
      The traffic of the City of Chicago is well documented in the form of
      massive—freely available—data sets. In the following, we take a deep dive
      into the data revolving around traffic accidents and present our findings.
    </p>
    <a
      href="https://chicago-traffic.netlify.app/explainer.html"
      style="width: 600px; margin-top: -6px; margin-bottom: 24px;"
      target="_blank"
      >Explainer Notebook</a
    >
    <img class="intro-map" src="assets/intro_map.png" alt="Chicago Map" />
    <p>
      By
      <em>Marco Illemann, Rasmus Suonperä Liebst & Robert Marker Karlsson</em>
      <br />
      <span style="font-size: 12px;">May, 15 2020</span>
    </p>
    <p>
      In this project, we investigate the traffic of the City of Chicago as a
      case study of a busy urban environment. With its population of
      approximately 2.7 million it is the third-most-populous city in the United
      States. Daily life in Chicago thus entails millions of people
      participating in the city's traffic. We will have a main focus on temporal
      patterns of traffic in the project.
    </p>
    <p>
      Two data sets are used for this project:
    </p>
    <ul>
      <li>
        <a
          href="https://data.cityofchicago.org/Transportation/Traffic-Crashes-Crashes/85ca-t3if"
        >
          Traffic Crashes - Crashes
        </a>
      </li>
      <li>
        <a
          href="https://data.cityofchicago.org/dataset/Chicago-Traffic-Tracker-Historical-Congestion-Esti/kf7e-cur8"
        >
          Chicago Traffic Tracker - Historical Congestion Estimates by Region -
          2018-Current
        </a>
      </li>
    </ul>
    <br />
    <br />
    <p>
      In the following, these are referred to as the <em>Crashes</em> and
      <em>Congestion</em>
      data sets, respectively. Both sets are freely available via [Chicago Data
      Portal](https://data.cityofchicago.org).
    </p>
    <p>
      The Crashes data set contains location as well as a multitude of meta data
      on each police registered traffic crash within the City of Chicago limits
      and under the jurisdiction of Chicago Police Department.
    </p>
    <p>
      The Congestion data set contains information about the congestion of the
      streets. Congestion is estimated by probing GPS traces from the public
      transportation buses, yielding regional average speeds of buses with 10
      minutes intervals. The congestion data set features a division of Chicago
      into 29 regions that covers the city (except O’Hare airport area). With
      comparable traffic patterns, a region is comprised of two or three
      community areas.
    </p>
    <p>
      The combination of theses two data sets allows for relating each crash to
      one of the 29 defined regions of the City of Chicago, as well as the
      estimated level of congestion at the time of the crash.
    </p>
    <p>
      Through careful analysis of the data, the goal is to elicit interesting
      findings about the traffic patterns of the City of Chicago and convey them
      in an intuitive manner to educate, non-scientific readers.
    </p>

    <section>
      <h2>Regions of Chicago</h2>
      <p>
        Chicago is divided into 29 regions in order to estimate traffic
        congestion around the city. To visualize this partition, all crashes has
        been plotted with a unique color for each region. To ease the relation
        between future findings and location of the regions, the unique IDs are
        added to the figure.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="./folium/Regions_with_id.png"
        ></iframe>
        <div class="iframe-loading">
          <h2>Loading...</h2>
        </div>
        <a
          class="fullscreen-btn"
          href="./folium/Regions_with_id.png"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Aenean nisi nunc, feugiat nec enim ac, rhoncus malesuada dolor. Cras
          pulvinar ultricies ex quis tincidunt.
        </p>
      </div>
    </section>

    <section>
      <h2>Primary Contributory Cause</h2>
      <p>
        One interesting attribute of the Crashes data set is the 'PRIMARY
        CONTRIBUTORY CAUSE'. The figure above shows the distribution of causes
        over all crashes of 2019. It is seen that the two most common causes by
        far are 'FAILING TO YIELD RIGHT-OF-WAY' and 'FOLLOWING TOO CLOSELY'. The
        large range in number of crashes in the figure makes it difficult to
        read the values of the left most part. The tooltip functionality of
        Bokeh is of no use because the bars are so small. This can be remedied
        by using a log scale for the y-axis:
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="bokeh/primary_cause_bar_chart.html"
        ></iframe>
        <div class="iframe-loading">
          <h2>Loading...</h2>
        </div>
        <a
          class="fullscreen-btn"
          href="bokeh/primary_cause_bar_chart.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Aenean nisi nunc, feugiat nec enim ac, rhoncus malesuada dolor. Cras
          pulvinar ultricies ex quis tincidunt.
        </p>
      </div>
    </section>

    <!-- Crashes Heat Map -->
    <section>
      <h2>Heat map over all crashes in Chicago</h2>
      <p>
        Ut metus dui, finibus nec tortor eu, sollicitudin vehicula arcu. Ut
        porta nunc elementum eros lacinia fermentum. Mauris mattis elit feugiat,
        commodo metus hendrerit, fringilla lacus. Aenean nisi nunc, feugiat nec
        enim ac, rhoncus malesuada dolor. Cras pulvinar ultricies ex quis
        tincidunt. Etiam dictum laoreet massa quis blandit. Morbi non congue
        leo. Etiam quis eleifend lacus.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="./folium/heat_crashes.html"
        ></iframe>
        <div class="iframe-loading">
          <h2>Loading...</h2>
        </div>
        <a
          class="fullscreen-btn"
          href="./folium/heat_crashes.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Aenean nisi nunc, feugiat nec enim ac, rhoncus malesuada dolor. Cras
          pulvinar ultricies ex quis tincidunt.
        </p>
      </div>
    </section>

    <!-- Crashes Heat Map over Time -->
    <section>
      <h2>Heat map over all crashes in Chicago</h2>
      <p>
        Ut metus dui, finibus nec tortor eu, sollicitudin vehicula arcu. Ut
        porta nunc elementum eros lacinia fermentum. Mauris mattis elit feugiat,
        commodo metus hendrerit, fringilla lacus. Aenean nisi nunc, feugiat nec
        enim ac, rhoncus malesuada dolor. Cras pulvinar ultricies ex quis
        tincidunt. Etiam dictum laoreet massa quis blandit. Morbi non congue
        leo. Etiam quis eleifend lacus.
      </p>
      <!--    <link rel="stylesheet" href="../css/leaflet.timedimension.control.min.css"/>-->
      <div class="iframe-wrapper">
        <iframe
          class="map"
          height="750"
          width="600"
          data-src="./folium/heat_crashes_over_time.html"
        ></iframe>
        <div class="iframe-loading">
          <h2>Loading...</h2>
        </div>
        <a
          class="fullscreen-btn"
          href="./folium/heat_crashes_over_time.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Ut porta nunc elementum eros lacinia fermentum. Mauris mattis elit
          feugiat, commodo metus hendrerit, fringilla lacus.
        </p>
      </div>
    </section>

    <!-- Number of Crashes vs Avg. Speed -->
    <section>
      <h2>The Effect of Traffic Congestion</h2>
      <p>
        Ut metus dui, finibus nec tortor eu, sollicitudin vehicula arcu. Ut
        porta nunc elementum eros lacinia fermentum. Mauris mattis elit feugiat,
        commodo metus hendrerit, fringilla lacus. Aenean nisi nunc, feugiat nec
        enim ac, rhoncus malesuada dolor. Cras pulvinar ultricies ex quis
        tincidunt. Etiam dictum laoreet massa quis blandit. Morbi non congue
        leo. Etiam quis eleifend lacus.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="plot"
          height="500"
          width="652"
          data-src="./bokeh/crash_count_vs_avg_speed.html"
        ></iframe>
        <a
          class="fullscreen-btn"
          href="./bokeh/crash_count_vs_avg_speed.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">
          Number of Crashes vs Avg. Speed for All 29 Regions.
        </p>
      </div>
    </section>

    <!-- Primary Cause of Crashes Throughout the Day -->
    <section>
      <h2>Primary Cause of Crashes Throughout the Day</h2>
      <p>
        Ut metus dui, finibus nec tortor eu, sollicitudin vehicula arcu. Ut
        porta nunc elementum eros lacinia fermentum. Mauris mattis elit feugiat,
        commodo metus hendrerit, fringilla lacus. Aenean nisi nunc, feugiat nec
        enim ac, rhoncus malesuada dolor. Cras pulvinar ultricies ex quis
        tincidunt.
      </p>
      <div class="iframe-wrapper">
        <iframe
          class="plot plot--wide"
          height="750"
          data-src="./bokeh/primary_cause.html"
        ></iframe>
        <a
          class="fullscreen-btn"
          href="./bokeh/primary_cause.html"
          target="_blank"
          title="View fullscreen"
          ><img src="assets/icons/fullscreen.svg"
        /></a>
      </div>
      <div class="caption">
        <p class="caption__title">Figure X</p>
        <p class="caption__body">Primary Cause of Crashes Throughout the Day</p>
      </div>
    </section>

    <div
      class="skyline"
      style="
        background-position: left;
        transform: scale(-1);
        margin-top: 100px;
      "
    ></div>
    <div class="footer">
      <span style="padding-bottom: 12px;"
        >©2020 Karlsson, Illemann & Liebst</span
      >
    </div>

    <script>
      /* Enumerate all figures */
      document.body.querySelectorAll(".caption__title").forEach((el, i) => {
        el.textContent = `Figure ${i + 1}`;
      });
    </script>
    <script>
      const handleIntersect = (entries, observer) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const target = entry.target;
            target.nextElementSibling.style.opacity = 0;
            target.src = target.dataset.src;
            observer.unobserve(target);
          }
        });
      };

      let observer = new IntersectionObserver(handleIntersect);
      document.querySelectorAll("iframe").forEach((el) => {
        observer.observe(el);
      });
    </script>
    <script>
      document.body.querySelector(".skyline").classList.add("skyline--grow");
    </script>
  </body>
</html>
